(this["webpackJsonpmemory-game-react"]=this["webpackJsonpmemory-game-react"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(6),s=n.n(a),i=n(2),o=n(3),u=n.n(o),l=n(5),f=(n(12),n(13),n(0));var j=function(e){return Object(f.jsxs)("div",{className:"Scoreboard",children:[Object(f.jsxs)("div",{className:"Score",children:["Score: ",e.score]}),Object(f.jsxs)("div",{className:"Best",children:["Best: ",e.best]}),e.hasWon?Object(f.jsx)("h1",{children:"You won!"}):null]})};n(15);var b=function(e){return Object(f.jsx)("div",{className:"Card",onClick:e.onClick,children:Object(f.jsx)("img",{draggable:"false",className:"Card__image",src:e.img,alt:""})})},d=n(18),h=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)},O=function(e){for(var t=0;t<e.length;++t){var n,r,c;n=h(0,e.length-1),r=h(0,e.length-1),c=e[n],e[n]=e[r],e[r]=c}return e},m=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],e.prev=1;case 2:if(!(n.length<t)){e.next=12;break}return e.next=5,fetch("https://randomfox.ca/floof/");case 5:return r=e.sent,e.next=8,r.json();case 8:c=e.sent,-1===n.indexOf(c.image)&&n.push(c.image),e.next=2;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();var p=function(){var e=Object(r.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(0),o=Object(i.a)(s,2),h=o[0],p=o[1],v=Object(r.useState)(!1),g=Object(i.a)(v,2),x=g[0],k=g[1],S=Object(r.useState)(!0),N=Object(i.a)(S,2),w=N[0],y=N[1],C=Object(r.useState)(Array(10).fill({})),E=Object(i.a)(C,2),J=(E[0],E[1]),B=Object(r.useState)(Array(3).fill({})),M=Object(i.a)(B,2),A=M[0],I=M[1],P=Object(r.useState)(!0),W=Object(i.a)(P,2),_=W[0],F=W[1];function G(){return(G=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.forEach((function(e){var t=new Promise((function(t,n){var r=new Image;r.src=e.src,r.onload=t(!0),r.onerror=n("error loading image")}));n.push(t)})),e.prev=2,e.next=5,Promise.all(n);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error(e.t0);case 10:F(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function L(){J((function(e){for(var t,n=JSON.parse(JSON.stringify(e)),r=!1;!r;){O(n),0!==(t=n.slice(0,3)).filter((function(e){return!e.clicked})).length&&(r=!0)}return I(t),e}))}function R(){J((function(e){return e.map((function(e){var t=e;return t.clicked=!1,t}))}))}function Y(e,t){J((function(e){var n=e.findIndex((function(e){return e.id===t}));if(e[n].clicked)return a(0),R(),e;a((function(e){return p((function(t){return e+1>t?e+1:t})),e+1===10?k(!0):L(),e+1}));var r=JSON.parse(JSON.stringify(e));return r[n].clicked=!0,r}))}return Object(r.useEffect)((function(){w&&(F(!0),m(10).then((function(e){var t=e.map((function(e){return{id:Object(d.a)(),src:e,clicked:!1}}));!function(e){G.apply(this,arguments)}(t),J(t),L()})),y(!1))}),[w]),Object(r.useEffect)((function(){var e=localStorage.highscore;e&&p(e)}),[]),Object(r.useEffect)((function(){localStorage.highscore=h}),[h]),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(j,{score:n,best:h,hasWon:x}),Object(f.jsx)("div",{className:"Game",children:_?Object(f.jsx)("span",{className:"loading",children:"Loading..."}):Object(f.jsx)(c.a.Fragment,{children:A.map((function(e){return Object(f.jsx)(b,{img:e.src,onClick:x?null:function(t){Y(0,e.id)}},e.id)}))})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"Button--reset",onClick:function(){a(0),p(0),R()},children:"Clear score"}),Object(f.jsx)("button",{className:"Button--reset",onClick:function(){y(!0),a(0)},children:"Restart"})]})]})};s.a.render(Object(f.jsx)(p,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.7ac0449a.chunk.js.map